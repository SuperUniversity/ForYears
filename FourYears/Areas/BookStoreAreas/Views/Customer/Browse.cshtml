@model IEnumerable<FourYears.Areas.BookStoreAreas.ViewModels.ViewModel_BookInformation>
    @using FourYears.Areas.BookStoreAreas.ViewModels

@{
    ViewBag.Title = "Browse";
}

@section styles{
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.0.0-beta.2.4/assets/owl.carousel.min.css"></link>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.0.0-beta.2.4/assets/owl.theme.default.min.css"></link>
    <style>
        .owls {
            cursor: pointer;
            color: black;
            height:250px;
        }
    </style>
    }

<div class="panel panel-warning" style="background-color:#FFF3EE">

    <div class="row">
        <div class="col-lg-2">
            <div class="col-lg-12">
                <div class="col-lg-2">
                </div>
                <div class="col-lg-10">
                    @Html.Action("RandomBook_PartialView")
                    <br />
                    <input type="text">
                    <br />
                    <a href="@Url.Action("BookDetail")" class="btn btn-danger"><span class="glyphicon glyphicon-search"></span> 條件搜尋</a>
                    <br />
                    <hr />
                    <br />
                    @Html.Action("GetBookCategory")
                </div>
                <div class="col-lg-2">
                </div>
            </div>
        </div>
        <div class="col-lg-8">
            @*<h2>@ViewBag.Message</h2>*@
            <div class="col-lg-12 row">
                <br />
                <br />
                <img style="width:1200px;margin:20px" src="~/Areas/BookStoreAreas/BookWebPageImages/網路書城.jpg">
                <p style="color:green;font-size:40px;font-family:'Microsoft JhengHei';font-weight:bold">書香，是最好的香水</p>
                <hr />
            </div>
            <div class="row">
                <hr />
                @foreach (var book in Model)
                {
                    <div class="col-lg-3">
                        <div class="thumbnail">
                            <img style="width:250px;height:250px" src="@Url.Action("GetBookImage1","Customer",new { id= book.BookID })" />
                            <div class="caption">
                                <strong class="strong" style="font-size:18px;font-family:'Microsoft JhengHei';font-weight:bold;color:red">@book.BookName</strong>
                                <hr />
                                <p style="font-size:larger;font-family:'Microsoft JhengHei';font-weight:bold">@Html.DisplayNameFor(b => b.AuthorName) : @Html.DisplayFor(b => book.AuthorName)</p>
                                <p style="font-size:larger;font-family:'Microsoft JhengHei';font-weight:bold">@Html.DisplayNameFor(b => b.SubCategoryName) : @Html.DisplayFor(b => book.SubCategoryName)</p>
                                <p style="font-size:larger;font-family:'Microsoft JhengHei';font-weight:bold">@Html.DisplayNameFor(b => b.PublisherName) : @Html.DisplayFor(b => book.PublisherName)</p>
                                <p style="font-size:larger;font-family:'Microsoft JhengHei';font-weight:bold">@Html.DisplayNameFor(b => b.ListPrice) : @Html.DisplayFor(b => book.ListPrice)</p>
                                <p style="color:#FF5151;font-size:larger;font-family:'Microsoft JhengHei';font-weight:bold">@Html.DisplayNameFor(b => b.SalePrice) : @Html.DisplayFor(b => book.SalePrice)</p>
                                <a href="@Url.Action("BookDetail", "BookStore",new {id=book.BookID})" class="btn btn-primary"><span class="glyphicon glyphicon-search"></span> 商品資訊</a>
                                @*<a onclick="AddToCart('@book.BookID')" href="javascript:void(0);"class="btn btn-success" role="button">加入購物車</a>*@
                                <a onclick="AddToCart('@book.BookID')" href="javascript:void(0);"
                                   class="btn btn-danger" role="button">
                                    加入購物車
                                </a> 
                                @*<a href="@Url.Action("AddToCart", "Cart",new {id=book.BookID})" class="btn btn-primary"><span class="glyphicon glyphicon-search"></span> 商品資訊</a>*@
                            </div>
                        </div>
                    </div>
                }
            </div>
            <hr />
            <br />
            <br />
            <br />
            <div>
                <div>
                    <label style="font-size: 28px;font-family:'Microsoft JhengHei';font-weight: bold"><span class="glyphicon glyphicon-chevron-right" style="color:darkgreen"></span><span style="color:orangered">暢銷</span>書籍</label>
                </div>
                <div class="owl-carousel owl-theme" style="z-index:0">
                    <div class="item"><img src="~/Areas/BookStoreAreas/BookImages/射鵰英雄傳1.jpg" class="owls" />@Html.ActionLink("射鵰英雄傳", "BookDetail", "BookStore", new { id = 1 }, new { @class = "owlwords" })</div>
                    <div class="item"><img src="~/Areas/BookStoreAreas/BookImages/研究方法.jpg" class="owls" />@Html.ActionLink("研究方法", "BookDetail", "BookStore", new { id = 46 }, new { @class = "owlwords" })</div>
                    <div class="item"><img src="~/Areas/BookStoreAreas/BookImages/心念對了，人生就對了.jpg" class="owls" />@Html.ActionLink("心念對了，人生就對了", "BookDetail", "BookStore", new { id = 44 }, new { @class = "owlwords" })</div>
                    <div class="item"><img src="~/Areas/BookStoreAreas/BookImages/哈利波特.jpg" class="owls" />@Html.ActionLink("哈利波特8", "BookDetail", "BookStore", new { id = 33 }, new { @class = "owlwords" })</div>
                    <div class="item"><img src="~/Areas/BookStoreAreas/BookImages/愛與勇氣，生命無懼.jpg" class="owls" />@Html.ActionLink("愛與勇氣，生命無懼", "BookDetail", "BookStore", new { id = 42 }, new { @class = "owlwords" })</div>
                    <div class="item"><img src="~/Areas/BookStoreAreas/BookImages/過得安穩便是贏家.jpg" class="owls" />@Html.ActionLink("過得安穩便是贏家", "BookDetail", "BookStore", new { id = 26 }, new { @class = "owlwords" })</div>
                    <div class="item"><img src="~/Areas/BookStoreAreas/BookImages/別讓魔鬼住進你心裡.jpg" class="owls" />@Html.ActionLink("別讓魔鬼住進你心裡", "BookDetail", "BookStore", new { id = 41 }, new { @class = "owlwords" })</div>
                </div>
            </div>
        </div>
        <div class="col-lg-2">

        </div>
    </div>
</div>
@section scripts{
@*<script type="text/javascript">
        //網頁載入完成時執行之function
        $(document).ready(function () {
            console.log("ready!");
        });

        //加入編號為productId的商品進購物車
        function AddToCart(productId) {
            $.ajax({
                type: 'POST',
                url: '@Url.Action("AddToCart", "Cart")',
                data: { id: productId }
            })
            .done(function (msg) {
                //將回傳的購物車頁面 填入 li#Cart
                $('li#Cart').html(msg);
            });
        }

</script>*@
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.0.0-beta.2.4/owl.carousel.min.js"></script>
    <script>
        $(function () {
            var len = 12; // 超過12個字以"..."取代
            $(".strong").each(function (i) {
                if ($(this).text().length > len) {
                    $(this).attr("title", $(this).text());
                    var text = $(this).text().substring(0, len - 1) + "...";
                    $(this).text(text);
                }
            });
        });

        $('.owl-carousel').owlCarousel({
            loop: true,
            margin: 10,
            nav: true,
            responsive: {
                0: {
                    items: 1
                },
                600: {
                    items: 3
                },
                1000: {
                    items: 5
                }
            }
        })
    </script>

}


